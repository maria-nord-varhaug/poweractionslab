name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: 
  push:
    branches:
      - main
  workflow_dispatch:

jobs: 
  Deploy-Dev:
    # defaults:
    #   run:
    #     shell: PowerShell # VERY important, this code does not work in powershell core
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v4
    - name: Install Power Platform Tools
      uses: microsoft/powerplatform-actions/actions-install@v1
 
    - name: Who am I?
      uses: microsoft/powerplatform-actions/who-am-i@v1
      with:
        environment-url: ${{vars.SERVER_URL}}
        app-id: ${{secrets.DV_CLIENT_ID}}
        client-secret: ${{secrets.DV_CLIENT_SECRET}}
        tenant-id: ${{ secrets.DV_TENANT_ID }}

    # - name: Install solution into target environment
    #   uses: microsoft/powerplatform-actions/import-solution@v1
    #   with: 
    #     environment-url: sdsd
    #     solution-file:
    #     app-id: ${{ env.DV_CLIENT_ID }}
    #     client-secret: ${{ env.DV_CLIENT_SECRET }}
    #     tenant-id: ${{ env.DV_TENANT_ID }}
   


